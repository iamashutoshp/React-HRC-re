{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Findal-React\\\\hrc-b2b\\\\src\\\\components\\\\Handler.js\";\n// file Handling Table page after Login\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { CircularLoading } from '../utils/CircularLoading';\nimport Grid from \"@material-ui/core/Grid\";\nimport GridHRCLogo from \"../utils/GridHRCLogo\";\nimport LvL1 from './LvL1Function/LvL1';\nimport Paging from './Paging';\nimport MyTable from './MyTable';\nimport LvL2_3 from './LvL2_3Function/LvL2_3';\nexport class Handler extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleApprove = async (clickedStatus, orderId, level, approvalStatus) => {\n      if (clickedStatus != -1 && approvalStatus === \"Awaiting Approval\") {\n        console.log(\"approving.... orderId : \", orderId);\n        console.log(\"approved by : \", level);\n        await axios.get('http://localhost:8080/1729197/approve?orderId=' + orderId + \"&Lvl=\" + level, {}).then(response => {\n          console.log(response);\n        });\n        this.handlerSetState();\n      } else if (approvalStatus === \"Approved\" || approvalStatus === \"Rejected\") alert(\"Sorry this Order is already \" + approvalStatus);\n    };\n\n    this.handleReject = async (clickedStatus, orderId, level, approvalStatus) => {\n      if (clickedStatus != -1 && approvalStatus === \"Awaiting Approval\") {\n        console.log(\"rejecting.... orderId : \", orderId);\n        console.log(\"rejected by : \", level);\n        await axios.get('http://localhost:8080/1729197/reject?orderId=' + orderId + \"&Lvl=\" + level, {}).then(response => {\n          console.log(response);\n        });\n        this.handlerSetState();\n      } else if (approvalStatus === \"Approved\" || approvalStatus === \"Rejected\") alert(\"Sorry this Order is already \" + approvalStatus);\n    };\n\n    this.handleSearch = async event => {\n      console.log(event.target.value);\n\n      if (event.target.value.length >= 1) {\n        await axios.get('http://localhost:8080/1729197/search?s=' + event.target.value + \"&pNo=\" + 1 + \"&LvL=\" + this.state.lvl, {}).then(response => {\n          this.setState({\n            seen: true,\n            rows: response.data.data,\n            pageNo: response.data.pageNo,\n            totalPage: response.data.totalSize,\n            clickedRow: -1,\n            selectedRowData: []\n          });\n        });\n      } else {\n        axios.get('http://localhost:8080/1729197/paging?pNo=' + 1 + \"&LvL=\" + this.state.lvl, {}).then(response => {\n          console.log(\"----------------------------------\", response);\n          this.setState({\n            seen: true,\n            rows: response.data.data,\n            pageNo: response.data.pageNo,\n            totalPage: response.data.totalSize\n          });\n        });\n      }\n    };\n\n    this.handlerSetState = async () => {\n      await axios.get('http://localhost:8080/1729197/paging?pNo=' + 1 + \"&LvL=\" + this.state.lvl, {}).then(response => {\n        console.log(\"----------------------------------\", response);\n        this.setState({\n          seen: true,\n          rows: response.data.data,\n          pageNo: response.data.pageNo,\n          totalPage: response.data.totalSize,\n          search: '',\n          clickedRow: -1\n        });\n      });\n      console.log(\"in handlerSetState inside handler.js checking new row recived \", this.state.rows);\n    };\n\n    this.gotoHomePaging = async () => {\n      console.log(\"Ist page of table\");\n\n      if (this.state.pageNo > 1) {\n        await axios.get('http://localhost:8080/1729197/paging?pNo=' + 1 + \"&LvL=\" + this.state.lvl, {}).then(response => {\n          this.setState({\n            seen: true,\n            rows: response.data.data,\n            pageNo: response.data.pageNo,\n            totalPage: response.data.totalSize,\n            clickedRow: -1,\n            selectedRowData: []\n          });\n        });\n      }\n    };\n\n    this.goOneBackPaging = async () => {\n      console.log(\"one page back\", this.state.pageNo);\n\n      if (this.state.pageNo - 1 > 0) {\n        await axios.get('http://localhost:8080/1729197/paging?pNo=' + (this.state.pageNo - 1) + \"&LvL=\" + this.state.lvl, {}).then(response => {\n          this.setState({\n            seen: true,\n            rows: response.data.data,\n            pageNo: response.data.pageNo,\n            totalPage: response.data.totalSize,\n            clickedRow: -1,\n            selectedRowData: []\n          });\n        });\n      }\n    };\n\n    this.goOnNextPaging = async () => {\n      console.log(\"on next page\", this.state.pageNo);\n\n      if (this.state.pageNo + 1 <= this.state.totalPage) {\n        await axios.get('http://localhost:8080/1729197/paging?pNo=' + (this.state.pageNo + 1) + \"&LvL=\" + this.state.lvl, {}).then(response => {\n          this.setState({\n            seen: true,\n            rows: response.data.data,\n            pageNo: response.data.pageNo,\n            totalPage: response.data.totalSize,\n            clickedRow: -1,\n            selectedRowData: []\n          });\n        });\n      }\n    };\n\n    this.gotoLastPage = async () => {\n      console.log(\"last page of table\");\n\n      if (this.state.pageNo < this.state.totalPage && this.state.totalPage > 1) {\n        await axios.get('http://localhost:8080/1729197/paging?pNo=' + this.state.totalPage + \"&LvL=\" + this.state.lvl, {}).then(response => {\n          this.setState({\n            seen: true,\n            rows: response.data.data,\n            pageNo: response.data.pageNo,\n            totalPage: response.data.totalSize,\n            clickedRow: -1,\n            selectedRowData: []\n          });\n        });\n      }\n    };\n\n    this.getCheckboxRow = (id, selectedRow) => {\n      console.log(\"inside checkbox  \"); // console.log(id)\n\n      if (this.state.clickedRow == -1) {\n        this.setState({\n          clickedRow: id,\n          selectedRowData: selectedRow\n        });\n      } else {\n        this.setState({\n          clickedRow: -1,\n          selectedRowData: []\n        });\n      } // console.log(this.state.clickedRow,this.state.selectedRowData)\n\n    };\n\n    this.state = {\n      lvl: props.lvl,\n      rows: [],\n      columns: [],\n      seen: false,\n      selectedRowID: -1,\n      search: '',\n      pageNo: 0,\n      totalPage: 0,\n      clickedRow: -1,\n      selectedRowData: []\n    };\n    this.handleApprove = this.handleApprove.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.goOnNextPaging = this.goOnNextPaging.bind(this);\n    this.goOneBackPaging = this.goOneBackPaging.bind(this);\n    this.gotoHomePaging = this.gotoHomePaging.bind(this);\n    this.gotoLastPage = this.gotoLastPage.bind(this);\n    this.getCheckboxRow = this.getCheckboxRow.bind(this);\n    this.handlerSetState = this.handlerSetState.bind(this);\n    this.handleReject = this.handleReject.bind(this);\n  }\n\n  // pagination handle functions end above\n  // alloting renders case on base on level of the user\n  renderSwitch(lvl, clickedStatus, rowData) {\n    switch (lvl) {\n      case 'Level 1':\n        console.log(\"inside Handler.js checking rowData : \", rowData);\n        return /*#__PURE__*/_jsxDEV(LvL1, {\n          main: this,\n          isClicked: clickedStatus,\n          rowData: rowData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this);\n\n      default:\n        return /*#__PURE__*/_jsxDEV(LvL2_3, {\n          handler: this,\n          isClicked: clickedStatus,\n          rowData: rowData,\n          level: lvl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this);\n    }\n  } // done with the cases\n\n\n  render() {\n    const {\n      classes\n    } = this.props;\n\n    if (!this.state.seen) {\n      return /*#__PURE__*/_jsxDEV(CircularLoading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(GridHRCLogo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: \"2px solid\",\n            padding: \"15px\",\n            boxShadow: \"20px 20px 50px 15px grey\",\n            height: \"100%\"\n          },\n          children: [this.renderSwitch(this.state.lvl, this.state.clickedRow, this.state.selectedRowData), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            style: {\n              color: \"orange\",\n              width: \"100%\",\n              flexGrow: 1\n            },\n            direction: \"row\",\n            spacing: 1,\n            alignItems: \"flex-start\",\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"rgb(201, 184, 107)\",\n                flexGrow: 1,\n                border: \"2px solid\",\n                padding: \"15px\",\n                height: \"100%\",\n                width: \"100%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(MyTable, {\n                handler: this\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Paging, {\n                main: this\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n  componentDidMount() {\n    if (!this.state.seen) {\n      axios.get('http://localhost:8080/1729197/paging?pNo=' + 1 + \"&LvL=\" + this.state.lvl, {}).then(response => {\n        console.log(\"----------------------------------\", response);\n        this.setState({\n          seen: true,\n          rows: response.data.data,\n          pageNo: response.data.pageNo,\n          totalPage: response.data.totalSize\n        });\n      });\n    }\n  }\n\n}\nexport default Handler;","map":{"version":3,"sources":["C:/Projects/Findal-React/hrc-b2b/src/components/Handler.js"],"names":["React","Component","axios","CircularLoading","Grid","GridHRCLogo","LvL1","Paging","MyTable","LvL2_3","Handler","constructor","props","handleApprove","clickedStatus","orderId","level","approvalStatus","console","log","get","then","response","handlerSetState","alert","handleReject","handleSearch","event","target","value","length","state","lvl","setState","seen","rows","data","pageNo","totalPage","totalSize","clickedRow","selectedRowData","search","gotoHomePaging","goOneBackPaging","goOnNextPaging","gotoLastPage","getCheckboxRow","id","selectedRow","columns","selectedRowID","bind","renderSwitch","rowData","render","classes","border","padding","boxShadow","height","color","width","flexGrow","componentDidMount"],"mappings":"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","sourcesContent":["// file Handling Table page after Login\r\nimport React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { CircularLoading } from '../utils/CircularLoading'\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GridHRCLogo from \"../utils/GridHRCLogo\";\r\nimport LvL1 from './LvL1Function/LvL1'\r\nimport Paging from './Paging'\r\nimport MyTable from './MyTable'\r\nimport LvL2_3 from './LvL2_3Function/LvL2_3'\r\n\r\nexport class Handler extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            lvl: props.lvl,\r\n            rows: [],\r\n            columns: [],\r\n            seen: false,\r\n            selectedRowID: -1,\r\n            search: '',\r\n            pageNo: 0,\r\n            totalPage: 0,\r\n\r\n            clickedRow: -1,\r\n            selectedRowData: []\r\n        }\r\n\r\n        this.handleApprove = this.handleApprove.bind(this);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n        this.goOnNextPaging = this.goOnNextPaging.bind(this);\r\n        this.goOneBackPaging = this.goOneBackPaging.bind(this);\r\n        this.gotoHomePaging = this.gotoHomePaging.bind(this);\r\n        this.gotoLastPage = this.gotoLastPage.bind(this);\r\n        this.getCheckboxRow = this.getCheckboxRow.bind(this);\r\n        this.handlerSetState = this.handlerSetState.bind(this);\r\n        this.handleReject = this.handleReject.bind(this);\r\n    }\r\n\r\n    handleApprove = async (clickedStatus,orderId,level,approvalStatus) => {\r\n        if(clickedStatus!=-1 && approvalStatus === \"Awaiting Approval\"){\r\n            console.log(\"approving.... orderId : \",orderId)\r\n            console.log(\"approved by : \", level)\r\n            await axios.get('http://localhost:8080/1729197/approve?orderId=' + orderId + \"&Lvl=\" + level, {\r\n            })\r\n                .then((response) => {\r\n                    console.log(response)\r\n                })\r\n            this.handlerSetState()\r\n        }\r\n        else if (approvalStatus === \"Approved\" || approvalStatus === \"Rejected\")\r\n                alert(\"Sorry this Order is already \" + approvalStatus)\r\n    }\r\n\r\n    handleReject = async (clickedStatus,orderId,level,approvalStatus) => {\r\n        if(clickedStatus!=-1 && approvalStatus === \"Awaiting Approval\"){\r\n            console.log(\"rejecting.... orderId : \",orderId)\r\n            console.log(\"rejected by : \", level)\r\n            await axios.get('http://localhost:8080/1729197/reject?orderId=' + orderId + \"&Lvl=\" + level, {\r\n            })\r\n                .then((response) => {\r\n                    console.log(response)\r\n                })\r\n            this.handlerSetState()\r\n            \r\n        }   \r\n        else if (approvalStatus === \"Approved\" || approvalStatus === \"Rejected\")\r\n                alert(\"Sorry this Order is already \" + approvalStatus)\r\n    }\r\n    // searching functionality below\r\n    handleSearch = async (event) => {\r\n\r\n        console.log(event.target.value)\r\n\r\n        if (event.target.value.length >= 1) {\r\n            await axios.get('http://localhost:8080/1729197/search?s=' + event.target.value + \"&pNo=\" + 1+ \"&LvL=\"+this.state.lvl, {\r\n            })\r\n                .then((response) => {\r\n                    this.setState({\r\n                        seen: true,\r\n                        rows: response.data.data,\r\n                        pageNo: response.data.pageNo,\r\n                        totalPage: response.data.totalSize,\r\n                        clickedRow: -1,\r\n                        selectedRowData: []\r\n                    })\r\n                })\r\n        }\r\n        else {\r\n            axios.get('http://localhost:8080/1729197/paging?pNo=' + 1+ \"&LvL=\"+this.state.lvl, {\r\n            })\r\n                .then((response) => {\r\n                    console.log(\"----------------------------------\", response);\r\n                    this.setState({\r\n                        seen: true,\r\n                        rows: response.data.data,\r\n                        pageNo: response.data.pageNo,\r\n                        totalPage: response.data.totalSize\r\n                    })\r\n                })\r\n        }\r\n\r\n\r\n    }\r\n    // searching functionality done above\r\n\r\n\r\n    handlerSetState = async () => {\r\n        await axios.get('http://localhost:8080/1729197/paging?pNo=' + 1 + \"&LvL=\"+this.state.lvl, {\r\n            })\r\n                .then((response) => {\r\n                    console.log(\"----------------------------------\", response);\r\n                    this.setState({\r\n                        seen: true,\r\n                        rows: response.data.data,\r\n                        pageNo: response.data.pageNo,\r\n                        totalPage: response.data.totalSize,\r\n                        search: '',\r\n                        clickedRow: -1\r\n                    })\r\n                })\r\n                console.log(\"in handlerSetState inside handler.js checking new row recived \",this.state.rows)\r\n\r\n    }\r\n\r\n    // pagination handle functions start below\r\n    gotoHomePaging = async () => {\r\n        console.log(\"Ist page of table\")\r\n        if (this.state.pageNo > 1) {\r\n            await axios.get('http://localhost:8080/1729197/paging?pNo=' + 1+ \"&LvL=\"+this.state.lvl, {\r\n            })\r\n                .then((response) => {\r\n                    this.setState({\r\n                        seen: true,\r\n                        rows: response.data.data,\r\n                        pageNo: response.data.pageNo,\r\n                        totalPage: response.data.totalSize,\r\n                        clickedRow: -1,\r\n                        selectedRowData: []\r\n                    })\r\n                })\r\n        }\r\n    }\r\n\r\n    goOneBackPaging = async () => {\r\n        console.log(\"one page back\", this.state.pageNo)\r\n        if (this.state.pageNo - 1 > 0) {\r\n            await axios.get('http://localhost:8080/1729197/paging?pNo=' + (this.state.pageNo - 1)+ \"&LvL=\"+this.state.lvl, {\r\n            })\r\n                .then((response) => {\r\n                    this.setState({\r\n                        seen: true,\r\n                        rows: response.data.data,\r\n                        pageNo: response.data.pageNo,\r\n                        totalPage: response.data.totalSize,\r\n                        clickedRow: -1,\r\n                        selectedRowData: []\r\n                    })\r\n                })\r\n        }\r\n\r\n    }\r\n\r\n    goOnNextPaging = async () => {\r\n        console.log(\"on next page\", this.state.pageNo)\r\n        if (this.state.pageNo + 1 <= this.state.totalPage) {\r\n            await axios.get('http://localhost:8080/1729197/paging?pNo=' + (this.state.pageNo + 1)+ \"&LvL=\"+this.state.lvl, {\r\n            })\r\n                .then((response) => {\r\n                    this.setState({\r\n                        seen: true,\r\n                        rows: response.data.data,\r\n                        pageNo: response.data.pageNo,\r\n                        totalPage: response.data.totalSize,\r\n                        clickedRow: -1,\r\n                        selectedRowData: []\r\n                    })\r\n                })\r\n        }\r\n    }\r\n\r\n    gotoLastPage = async () => {\r\n        console.log(\"last page of table\")\r\n        if (this.state.pageNo < this.state.totalPage && this.state.totalPage > 1) {\r\n            await axios.get('http://localhost:8080/1729197/paging?pNo=' + this.state.totalPage+ \"&LvL=\"+this.state.lvl, {\r\n            })\r\n                .then((response) => {\r\n                    this.setState({\r\n                        seen: true,\r\n                        rows: response.data.data,\r\n                        pageNo: response.data.pageNo,\r\n                        totalPage: response.data.totalSize,\r\n                        clickedRow: -1,\r\n                        selectedRowData: []\r\n                    })\r\n                })\r\n        }\r\n    }\r\n    // pagination handle functions end above\r\n\r\n\r\n    // alloting renders case on base on level of the user\r\n    renderSwitch(lvl, clickedStatus, rowData) {\r\n\r\n        switch (lvl) {\r\n            case 'Level 1':\r\n                console.log(\"inside Handler.js checking rowData : \", rowData)\r\n                return (\r\n                    <LvL1 main={this} isClicked={clickedStatus} rowData={rowData} />\r\n                );\r\n            default:\r\n                return (\r\n                    <LvL2_3 handler={this} isClicked={clickedStatus} rowData={rowData} level={lvl} />\r\n                );\r\n        }\r\n    }\r\n\r\n    // done with the cases\r\n\r\n\r\n    render() {\r\n        const { classes } = this.props\r\n        if (!this.state.seen) {\r\n            return (\r\n                <CircularLoading />\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <div>\r\n                    <GridHRCLogo />\r\n                    <div\r\n                        style={{\r\n                            border: \"2px solid\",\r\n                            padding: \"15px\",\r\n                            boxShadow: \"20px 20px 50px 15px grey\",\r\n                            height: \"100%\"\r\n                        }}>\r\n\r\n                        {this.renderSwitch(this.state.lvl, this.state.clickedRow, this.state.selectedRowData)}\r\n\r\n                        <Grid\r\n                            container\r\n                            style={{\r\n                                color: \"orange\",\r\n                                width: \"100%\",\r\n                                flexGrow: 1\r\n                            }}\r\n                            direction=\"row\"\r\n                            spacing={1}\r\n                            alignItems=\"flex-start\">\r\n                            <Grid item xs={12} />\r\n                            <Grid item xs={12} />\r\n                            <div\r\n                                style={{\r\n                                    color: \"rgb(201, 184, 107)\",\r\n                                    flexGrow: 1,\r\n                                    border: \"2px solid\",\r\n                                    padding: \"15px\",\r\n                                    height: \"100%\",\r\n                                    width: \"100%\"\r\n                                }}>\r\n                                <MyTable handler={this} />\r\n                                <br />\r\n                                <Paging main={this} />\r\n                                {/* <Button>page</Button> */}\r\n                            </div>\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    getCheckboxRow = (id, selectedRow) => {\r\n        console.log(\"inside checkbox  \")\r\n        // console.log(id)\r\n        if (this.state.clickedRow == -1) {\r\n            this.setState({\r\n                clickedRow: id,\r\n                selectedRowData: selectedRow\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                clickedRow: -1,\r\n                selectedRowData: []\r\n            })\r\n        }\r\n\r\n\r\n        // console.log(this.state.clickedRow,this.state.selectedRowData)\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        if (!this.state.seen) {\r\n            axios.get('http://localhost:8080/1729197/paging?pNo=' + 1+\"&LvL=\"+this.state.lvl, {\r\n            })\r\n                .then((response) => {\r\n                    console.log(\"----------------------------------\", response);\r\n                    this.setState({\r\n                        seen: true,\r\n                        rows: response.data.data,\r\n                        pageNo: response.data.pageNo,\r\n                        totalPage: response.data.totalSize\r\n                    })\r\n                })\r\n        }\r\n    }\r\n}\r\nexport default Handler\r\n"]},"metadata":{},"sourceType":"module"}